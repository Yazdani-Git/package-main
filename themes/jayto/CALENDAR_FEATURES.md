# ุชููู ุฑุฒุฑู ูพุดุฑูุชู ุฌุชู (Jayto Enhanced Reservation Calendar)

## ูฺฺฏโูุง ูพุงุฏูโุณุงุฒ ุดุฏู โ

### ๐ฅ ููุทู ูพุดุฑูุชู ุงูุชุฎุงุจ ุชุงุฑุฎ (ูุดุงุจู shab.ir)

#### ุชุงุฑุฎ ูุฑูุฏ (Check-in):
- ุงูุชุฎุงุจ ูุฑ ุชุงุฑุฎ ููุฌูุฏ
- ุชุงุฑุฎโูุง ฺฏุฐุดุชู ุบุฑูุนุงู ูโุดููุฏ
- ูพุณ ุงุฒ ุงูุชุฎุงุจ ุชุงุฑุฎ ูุฑูุฏุ ุชููู ุฎุฑูุฌ ุฎูุฏฺฉุงุฑ ุจุงุฒ ูโุดูุฏ

#### ุชุงุฑุฎ ุฎุฑูุฌ (Check-out):
- **ุชุงุฑุฎโูุง ูุจู ุงุฒ check-in**: ฺฉุงููุงู ุบุฑูุนุงู
- **ุงููู ุชุงุฑุฎ ุบุฑูุนุงู ุจุนุฏ ุงุฒ check-in**: ูุงุจู ุงูุชุฎุงุจ ุจุฑุง ูพุงุงู ุฑุฒุฑู (ุจุง ุฎุท ฺู ูุงุฑูุฌ)
- **ุชุงุฑุฎโูุง ุจุนุฏ ุงุฒ ุงููู ุบุฑูุนุงู**: ฺฉุงููุงู ูุณุฏูุฏ
- **ุชุงุฑุฎโูุง ููุฌูุฏ ุจู check-in ู ุงููู ุบุฑูุนุงู**: ูุงุจู ุงูุชุฎุงุจ
- **ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุงูุชุฎุงุจ ุฏุฑ ุชูููโูุง ูุฎุชูู ูุงูโูุง**: โ

### ๐จ ููุงุด ููุดููุฏ ุชุงุฑุฎโูุง

#### ุฑูฺฏโุจูุฏ ุงุณุชุงูุฏุงุฑุฏ:
- **ุชุงุฑุฎโูุง ููุฌูุฏ**: ๐ข ุณุจุฒ ุจุง ุญุงุดู ุณุจุฒ
- **ุชุงุฑุฎโูุง ุฑุฒุฑู ุดุฏู**: ๐ ูุงุฑูุฌ 
- **ุชุงุฑุฎโูุง ุบุฑูุนุงู**: โช ุฎุงฺฉุณุชุฑ ุจุง ุฎุท ุฎูุฑุฏู
- **ุฌูุนูโูุง**: ๐ด ูุฑูุฒ
- **ุงูุฑูุฒ**: ๐ต ุขุจ ูพุฑุฑูฺฏ

#### ุงููุดูโูุง:
- ุงููุดู hover ูุฑู
- ุงููุดู ุงูุชุฎุงุจ
- ุงููุดู pulse ุจุฑุง ุชุงุฑุฎโูุง ูุงุจู ุงูุชุฎุงุจ ุฏุฑ checkout
- ุงููุดู slideIn ุจุฑุง ูพุงูโูุง

### ๐งฎ ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ููุช

#### ูุงุจูุชโูุง:
- ูุญุงุณุจู ุจุฑ ุงุณุงุณ ุชุนุฏุงุฏ ุดุจ
- ููุงุด ุฌุฒุฆุงุช ููุช ูุฑ ุดุจ
- ูุญุงุณุจู ุชุฎููโูุง
- ููุช ุขุฎุฑ ููุชู (ุฌูุนูโูุง)
- ูุฒูู ููุฑุงุช ุงุถุงู
- ููุงุด ูุจูุบ ฺฉู ุจุง ุฌุฏุงฺฉููุฏู ูุฒุงุฑฺฏุงู

#### ุณุงุฎุชุงุฑ Response:
```json
{
  "success": true,
  "data": {
    "nights": 3,
    "base_price": 1500000,
    "weekend_extra": 200000,
    "extra_people_cost": 150000,
    "discount": 50000,
    "total_price": 1800000,
    "daily_breakdown": {...}
  }
}
```

### ๐ฑ๏ธ ุฑุงุจุท ฺฉุงุฑุจุฑ ูพุดุฑูุชู

#### ุฏฺฉููโูุง ู ฺฉูุชุฑูโูุง:
- **ุฏฺฉูู ูพุงฺฉ ฺฉุฑุฏู ุงูุชุฎุงุจ**: ุจุฑุง ุชููู checkout
- **ููุงุฑ ูพูุงุด ูุงู**: ุจุง ุงููุดู
- **tooltip ููุช**: ููุงุด ููุช ููฺฏุงู hover
- **ูพุงูโูุง ุฎุทุง ู ููููุช**: ุจุง ุงููุดู

#### Responsive Design:
- **ุฏุณฺฉุชุงูพ**: 2 ุชููู ฺฉูุงุฑ ูู (ูุงู ุฌุงุฑ + ูุงู ุจุนุฏ)
- **ุชุจูุช**: ุจูููโุณุงุฒ ุงูุฏุงุฒู ู ูุงุตููโูุง  
- **ููุจุงู**: ุชููู ุชฺฉ ุจุง ุชูุงู ูุงุจูุชโูุง

### ๐ง ูพุงุฏูโุณุงุฒ ูู

#### ูุงูโูุง ุชุบุฑ ุงูุชู:
1. **`plugins/jayto-widget/Calender.php`** - ุชููู ููุจุงู โ
2. **`plugins/jayto-widget/Calender_desktop.php`** - ุชููู ุฏุณฺฉุชุงูพ (ูุงู ุงูู) โ
3. **`plugins/jayto-widget/Calender_desktop2.php`** - ุชููู ุฏุณฺฉุชุงูพ (ูุงู ุฏูู) โ
4. **`themes/jayto/calender2.php`** - ุชููู checkout AJAX โ
5. **`themes/jayto/css/calendar-improvements.css`** - ุงุณุชุงูโูุง ุจูุจูุฏ ุงูุชู โ
6. **`themes/jayto/js/calendar-enhancements.js`** - ููุทู JavaScript ูพุดุฑูุชู โ
7. **`themes/jayto/functions.php`** - ุชูุงุจุน ูุญุงุณุจู ููุช ู AJAX โ
8. **`plugins/jayto-widget/widgets/submits_reserve_request.php`** - ูุฌุช ุฑุฒุฑู โ

#### ุณุงุฎุชุงุฑ ฺฉุงูู ุชูููโูุง:

```php
// ููุจุงู
if (wp_is_mobile()) {
    $calendar = new Calendar();              // Calender.php
    $calendar->set_check_in($session_check_in);
    $calendar->set_reserved_dates($reserved_dates);
    echo $calendar;
}

// ุฏุณฺฉุชุงูพ  
else {
    $calendar_desk1 = new Calendar_desktop();     // Calender_desktop.php - ูุงู ุฌุงุฑ
    $calendar_desk2 = new Calendar_desktop2();    // Calender_desktop2.php - ูุงู ุจุนุฏ
    
    // ุชูุธู check-in ู reserved dates ุจุฑุง ูุฑ ุฏู
    $calendar_desk1->set_check_in($session_check_in);
    $calendar_desk2->set_check_in($session_check_in);
    $calendar_desk1->set_reserved_dates($reserved_dates);
    $calendar_desk2->set_reserved_dates($reserved_dates);
    
    echo $calendar_desk1 . $calendar_desk2;
}

// AJAX checkout calendar
$checkout_calendar = new Calender2();  // calender2.php
$checkout_calendar->set_chech_in($check_in_date);
$checkout_calendar->set_reserved_dates($reserved_dates);
```

#### ฺฉูุงุณโูุง CSS ุฌุฏุฏ:
- `.checkout-calendar` / `.checkin-calendar`
- `.checkout-selectable`
- `.first-unavailable-checkout`
- `.after-unavailable-block`
- `.before-checkin`
- `.subtle-pulse` (ุงููุดู)

#### ุชุงุจุนโูุง JavaScript ฺฉูุฏ:
- `handleDateSelection()` - ูุฏุฑุช ุงูุชุฎุงุจ ุชุงุฑุฎ ูพุดุฑูุชู
- `updateCalendarStates()` - ุจูโุฑูุฒุฑุณุงู ูุถุนุช ุชููู
- `calculateAndDisplayPrice()` - ูุญุงุณุจู ู ููุงุด ููุช
- `clearCalendarSelection()` - ูพุงฺฉ ฺฉุฑุฏู ุงูุชุฎุงุจโูุง

### ๐ ูุญูู ุงุณุชูุงุฏู

#### ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู:
```javascript
// ูุนุงูโุณุงุฒ ุชููู ุจูุจูุฏ ุงูุชู
initCalendarEnhancements();

// ุณูุงุฑุดโุณุงุฒ theme
customizeCalendarTheme({
    primaryColor: '#4299e1',
    secondaryColor: '#48bb78'
});
```

#### ุจุฑุง ฺฉุงุฑุจุฑุงู:
1. ุงูุชุฎุงุจ ุชุงุฑุฎ ูุฑูุฏ ุงุฒ ุชููู
2. ุชููู ุฎุฑูุฌ ุฎูุฏฺฉุงุฑ ุจุงุฒ ูโุดูุฏ
3. ุงูุชุฎุงุจ ุชุงุฑุฎ ุฎุฑูุฌ ููุงุณุจ
4. ูุดุงูุฏู ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ููุช
5. ุชุฃุฏ ุฑุฒุฑู

### ๐ฏ ููุทู ฺฉุงูู shab.ir

#### ุฏุฑ ุญุงูุช Check-in:
- ููู ุชุงุฑุฎโูุง ููุฌูุฏ ูุงุจู ุงูุชุฎุงุจ
- ุชุงุฑุฎโูุง ฺฏุฐุดุชู ู ุฑุฒุฑู ุดุฏู ุบุฑูุนุงู
- ูพุณ ุงุฒ ุงูุชุฎุงุจุ ุชููู checkout ุจุงุฒ ูโุดูุฏ

#### ุฏุฑ ุญุงูุช Check-out:
- ุชุงุฑุฎโูุง ูุจู ุงุฒ check-in: **ุบุฑูุนุงู**
- ุชุงุฑุฎโูุง ููุฌูุฏ ุจุนุฏ ุงุฒ check-in: **ูุงุจู ุงูุชุฎุงุจ** (ุณุจุฒ ูพุงูุณ)
- ุงููู ุชุงุฑุฎ ุบุฑููุฌูุฏ: **ูุงุจู ุงูุชุฎุงุจ ุจุฑุง ูพุงุงู** (ูุงุฑูุฌ ุฎุท ฺู)
- ุชุงุฑุฎโูุง ุจุนุฏ ุงุฒ ุงููู ุบุฑููุฌูุฏ: **ฺฉุงููุงู ูุณุฏูุฏ**

### ๐ ุงููุช

- Nonce verification ุจุฑุง AJAX requests
- Sanitization ุชูุงู input ูุง
- Validation ฺฉุงูู ุชุงุฑุฎโูุง
- ุฎุทุง handling ููุงุณุจ
- ุฌููฺฏุฑ ุงุฒ ุงูุชุฎุงุจ ุชุงุฑุฎโูุง ูุงูุนุชุจุฑ

### ๐ฑ ุณุงุฒฺฏุงุฑ

- **ูุฑูุฑฺฏุฑูุง**: Chrome, Firefox, Safari, Edge
- **ุฏุณุชฺฏุงูโูุง**: ุฏุณฺฉุชุงูพุ ุชุจูุชุ ููุจุงู
- **WordPress**: ูุณุฎู 5.0+
- **Elementor**: ุณุงุฒฺฏุงุฑ ฺฉุงูู
- **PHP**: ูุณุฎู 7.4+

### ๐ ุชุณุช ฺฉุงูู

#### ููุงุฑุฏ ุชุณุช ุดุฏู:
โ ุงูุชุฎุงุจ ุชุงุฑุฎ ูุฑูุฏ ุฏุฑ ููุจุงู  
โ ุงูุชุฎุงุจ ุชุงุฑุฎ ูุฑูุฏ ุฏุฑ ุฏุณฺฉุชุงูพ (ูุฑ ุฏู ุชููู)  
โ ููุทู checkout ุฏุฑ ููุจุงู  
โ ููุทู checkout ุฏุฑ ุฏุณฺฉุชุงูพ (ูุฑ ุฏู ุชููู)  
โ ุงูุชุฎุงุจ ุฏุฑ ุชูููโูุง ูุฎุชูู ูุงูโูุง  
โ ูุญุงุณุจู ููุช ุฎูุฏฺฉุงุฑ  
โ ููุงุด ูพุงูโูุง ููุงุณุจ  
โ ุฏฺฉูู ูพุงฺฉ ฺฉุฑุฏู ุงูุชุฎุงุจ  
โ ุงููุดูโูุง ู UI  

---

**โจ ูุชุฌู**: ุชูุงู 4 ูุงู ุชููู ุจุง ููุทู ูพุดุฑูุชู shab.ir ุจูโุฑูุฒุฑุณุงู ุดุฏูุฏ ู ฺฉุงููุงู ููุงููฺฏ ฺฉุงุฑ ูโฺฉููุฏ!